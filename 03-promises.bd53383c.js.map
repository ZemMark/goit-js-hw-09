{"mappings":"YAAA,IAAMA,EAAO,CACXC,MAAOC,SAASC,cAAc,UAC9BC,KAAMF,SAASC,cAAc,SAC7BE,OAAQH,SAASC,cAAc,WAC/BG,OAAQJ,SAASC,cAAc,eAE7BI,EAAaP,EAAKC,MAAMO,MACxBC,EAAcT,EAAKI,KAAKI,MACxBE,EAAUV,EAAKK,OAAOG,MAI1B,SAASG,EAAcC,EAAUX,GAC/B,OAAO,IAAIY,SAAQ,SAACC,EAAQC,GAC1B,IAAMC,EAAgBC,KAAKC,SAAW,GACtCC,YAAW,WACLH,GAEFI,QAAQC,IAAI,UACZP,EAAO,CAAEF,WAAUX,YAGnBmB,QAAQC,IAAI,WACZN,EAAQ,CAAEH,WAAUX,U,GAErBA,E,IAfPD,EAAKM,OAAOgB,iBAAiB,SAkB7B,SAAuBC,GACrBA,EAAEC,iBACFd,EAAUe,OAAOzB,EAAKK,OAAOG,OAC7BC,EAAcgB,OAAOzB,EAAKI,KAAKI,OAC/BD,EAAakB,OAAOzB,EAAKC,MAAMO,OAC/B,IAAK,IAAIkB,EAAI,EAAGA,EAAIhB,EAASgB,IAC3Bf,EAAcD,EAASH,GACpBoB,MAAK,SAAAC,G,IAAGhB,EAAQgB,EAARhB,SAAUX,EAAK2B,EAAL3B,MACjBmB,QAAQC,IAAI,uBAAwCQ,OAAfjB,EAAS,QAAYiB,OAAN5B,EAAM,M,IAE3D6B,OAAM,SAAAF,G,IAAGhB,EAAQgB,EAARhB,SAAUX,EAAK2B,EAAL3B,MAClBmB,QAAQC,IAAI,sBAAqCQ,OAAfjB,EAAS,QAAYiB,OAAN5B,EAAM,M,IAG3DM,GAAcE,C","sources":["src/js/03-promises.js"],"sourcesContent":["const refs = {\n  delay: document.querySelector('.delay'),\n  step: document.querySelector('.step'),\n  amount: document.querySelector('.amount'),\n  submit: document.querySelector('.submitBtn'),\n};\nlet firstDelay = refs.delay.value;\nlet secondDelay = refs.step.value;\nlet pAmount = refs.amount.value;\n\nrefs.submit.addEventListener('click', onSubmitClick);\n\nfunction createPromise(position, delay) {\n  return new Promise((reject, resolve) => {\n    const shouldResolve = Math.random() > 0.3;\n    setTimeout(() => {\n      if (shouldResolve) {\n        // Fulfill\n        console.log('reject');\n        reject({ position, delay });\n      } else {\n        // Reject\n        console.log('resolve');\n        resolve({ position, delay });\n      }\n    }, delay);\n  });\n}\nfunction onSubmitClick(e) {\n  e.preventDefault();\n  pAmount = Number(refs.amount.value);\n  secondDelay = Number(refs.step.value);\n  firstDelay = Number(refs.delay.value);\n  for (let i = 0; i < pAmount; i++) {\n    createPromise(pAmount, firstDelay)\n      .then(({ position, delay }) => {\n        console.log(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n        console.log(`❌ Rejected promise ${position} in ${delay}ms`);\n      });\n    // Number(firstDelay + delay);\n    firstDelay = +secondDelay;\n    // console.log(secondDelay + firstDelay);\n    // firstDelay = +secondDelay;\n  }\n}\n"],"names":["$ce04d3a99e08e73b$var$refs","delay","document","querySelector","step","amount","submit","$ce04d3a99e08e73b$var$firstDelay","value","$ce04d3a99e08e73b$var$secondDelay","$ce04d3a99e08e73b$var$pAmount","$ce04d3a99e08e73b$var$createPromise","position","Promise","reject","resolve","shouldResolve","Math","random","setTimeout","console","log","addEventListener","e","preventDefault","Number","i","then","param","concat","catch"],"version":3,"file":"03-promises.bd53383c.js.map"}